import{k as S,r as i,q as w,j as e,B as a,T as o,A as d,h as v,p as u,H as F,C as P}from"./index-BYSn-Ph9.js";import{z as g,t as I,L as k}from"./InputAdornment-C16MAnWp.js";import{u as N}from"./index.esm-zikEUq64.js";import{P as E}from"./new-password-icon-B1KitWpK.js";import{F as R}from"./fields-4WUEHna6.js";import{F as B}from"./form-provider-BddctRqv.js";import"./image-Bqiu_8gY.js";import"./isMuiElement-aSLRLFCQ.js";import"./formControlState-Dq1zat_P.js";import"./RadioGroup-Brggk8Vw.js";const M=s=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,n=/^[0-9]{10}$/;return t.test(s)||n.test(s)},A=g.object({userName:g.string().min(1,{message:"Email is required!"}).refine(M,{message:"Username must be a valid email address or a 10-digit mobile number!"})});function C(){const s=S(),[t,n]=i.useState(""),[m,h]=i.useState(""),x={userName:""},[p,b]=i.useState(!1),l=N({resolver:I(A),defaultValues:x}),{handleSubmit:f,formState:{isSubmitting:j}}=l,y=f(async c=>{console.log("ddd:",c);try{await w({userName:c.userName}),b(!0),h("Link send Succesfully")}catch(r){console.error("ttt:",r),n(typeof r=="string"?r:r.message)}});return e.jsxs(a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",padding:5,children:[e.jsxs(a,{textAlign:"center",mb:4,children:[e.jsx(E,{style:{fontSize:40,marginBottom:16}}),e.jsx(o,{variant:"h4",gutterBottom:!0,children:"Forgot your password?"}),e.jsx(o,{variant:"body2",children:"A password reset link has been sent to your registered email and mobile number. Please check your inbox or SMS to proceed with resetting your password."})]}),p?e.jsxs(a,{textAlign:"center",children:[e.jsx(o,{variant:"h6",gutterBottom:!0,children:"Reset email sent!"}),e.jsx(o,{variant:"body2",mb:2,children:"Please check your inbox for a link to reset your password."}),e.jsx(v,{href:u.auth.signIn,underline:"none",onClick:()=>s.push(u.auth.signIn),variant:"body2",color:"primary",children:"Return to Sign In"})]}):e.jsxs(B,{methods:l,onSubmit:y,children:[!!t&&e.jsx(d,{severity:"error",sx:{mb:3},children:t}),!!m&&e.jsx(d,{severity:"success",sx:{mb:3},children:m}),e.jsx(R.Text,{sx:{mb:2},name:"userName",label:"User Name",placeholder:"example@gmail.com",InputProps:{sx:{width:"100%"}}}),e.jsx(k,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Sending...",children:"Send request"})]})]})}const L={title:`Forgot Password | ${P.appName}`};function W(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsxs("title",{children:[" ",L.title]})}),e.jsx(C,{})]})}export{W as default};
