import{k as c,r as d,s as p,p as g,j as e,A as h,B as b,H as x,C as f}from"./index-BYSn-Ph9.js";import{z as o,t as j,L as S}from"./InputAdornment-C16MAnWp.js";import{u as F}from"./index.esm-zikEUq64.js";import{F as N}from"./fields-4WUEHna6.js";import{F as w}from"./form-provider-BddctRqv.js";import"./image-Bqiu_8gY.js";import{F as y}from"./form-head-DKRXWWBN.js";import"./isMuiElement-aSLRLFCQ.js";import"./formControlState-Dq1zat_P.js";import"./RadioGroup-Brggk8Vw.js";const I=o.object({username:o.string().min(1,{message:"Mobile/LAN number is required!"}).refine(r=>{const t=/^\d{10}$/,n=/^\d{5,7}$/,s=/^[a-zA-Z0-9]{16}$/;return t.test(r)||n.test(r)||s.test(r)},{message:"Enter a valid 10-digit mobile number, 5-7 digit loan account number, or 16-character alphanumeric loan number."})});function L(){const r=c(),[t,n]=d.useState(""),s=F({resolver:j(I),defaultValues:{username:""}}),{handleSubmit:m,formState:{isSubmitting:u}}=s,l=m(async i=>{try{await p({username:i.username}),sessionStorage.setItem("username",i.username),r.push(g.auth.verify)}catch(a){console.error(a),n(a.message||"Something went wrong.")}});return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Sign in with Mobile Number/Lan Number"}),!!t&&e.jsx(h,{severity:"error",children:t}),e.jsx(w,{methods:s,onSubmit:l,children:e.jsxs(b,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(N.Text,{name:"username",label:"Mobile Number / Lan Number",InputLabelProps:{shrink:!0}}),e.jsx(S,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:u,children:"Send Otp"})]})})]})}const P={title:`Sign in | ${f.appName}`};function O(){return e.jsxs(e.Fragment,{children:[e.jsx(x,{children:e.jsxs("title",{children:[" ",P.title]})}),e.jsx(L,{})]})}export{O as default};
